{% extends "main/base.html" %}

{% block title %}Dashboard - Django Marketplace{% endblock %}

{% block content %}
<h1>My Dashboard</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
    <div class="card" style="text-align: center;">
        <h3 style="color: #3498db;">Total Orders</h3>
        <p style="font-size: 36px; font-weight: bold; color: #2980b9;">{{ buyer_stats.order_count|default:"0" }}</p>
    </div>
    <div class="card" style="text-align: center;">
        <h3 style="color: #27ae60;">Total Spent</h3>
        <p style="font-size: 36px; font-weight: bold; color: #229954;">${{"%.2f"|format:buyer_stats.total_spent|default:"0"}}</p>
    </div>
    <div class="card" style="text-align: center;">
        <h3 style="color: #e74c3c;">Wishlist Items</h3>
        <p style="font-size: 36px; font-weight: bold; color: #c0392b;">{{ wishlist_count|default:"0" }}</p>
    </div>
</div>

{% if is_seller %}
    <h2>Seller Statistics</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
        <div class="card" style="text-align: center;">
            <h3 style="color: #27ae60;">Products Listed</h3>
            <p style="font-size: 36px; font-weight: bold;">{{ seller_stats.product_count|default:"0" }}</p>
        </div>
        <div class="card" style="text-align: center;">
            <h3 style="color: #f39c12;">Total Sales</h3>
            <p style="font-size: 36px; font-weight: bold;">${{"%.2f"|format:seller_stats.total_sales|default:"0"}}</p>
        </div>
        <div class="card" style="text-align: center;">
            <h3 style="color: #3498db;">Account Balance</h3>
            <p style="font-size: 36px; font-weight: bold;">${{"%.2f"|format:seller_stats.balance|default:"0"}}</p>
        </div>
        <div class="card" style="text-align: center;">
            <h3 style="color: #e74c3c;">Average Rating</h3>
            <p style="font-size: 36px; font-weight: bold;">⭐ {{ seller_stats.avg_rating|default:"–" }}</p>
        </div>
    </div>

    <a href="/admin/" class="btn btn-secondary">Go to Admin Panel</a>
{% endif %}
{% endblock %}
